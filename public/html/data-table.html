<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Додати новий запис</title>
    <link rel="stylesheet" href="../css/styles.css">
  </head>
  <body>
    <button id="add-record-btn" onclick="toggleAddRecordForm()">Додати новий запис в таблицю</button>
    <div id="add-record-form" style="display: none;">
      <h2>Додати новий запис</h2>
      <form id="add-data-form">
        <label for="object-name">Назва об'єкту:</label>
        <select id="object-name" required>
          <option value="">Оберіть об'єкт</option>
          <option value="1">Рівне</option>
          <option value="2">Хмельницький</option>
          <option value="3">Бровари</option>
        </select>
        <label for="table-select1">В яку таблицю вставити запис:</label>
        <select id="table-select1" required>
          <option value="water">Скиди забруднюючих речовин у водні об'єкти</option>
          <option value="air">Викиди в атмосферне повітря</option>
          <option value="air-risk">Оцінка ризику за викидами у повітря</option>
        </select>
        <label for="pollutant-name">Назва забруднюючої речовини:</label>
        <select id="pollutant-name" required>
          <option value="">Оберіть або введіть забруднюючу речовину</option>
          <option value="Формальдегід">Формальдегід</option>
          <option value="Азоту оксид">Азоту оксид</option>
          <option value="Аміак">Аміак</option>
          <option value="Ангідрид сірчистий">Ангідрид сірчистий</option>
          <option value="Ацетон">Ацетон</option>
          <option value="Бензопірен">Бензопірен</option>
          <option value="Бутилацетат">Бутилацетат</option>
          <option value="Ванадію п’ятиокис">Ванадію п’ятиокис</option>
          <option value="Водень хлористий">Водень хлористий</option>
          <option value="Вуглецю окис">Вуглецю окис</option>
          <option value="Вуглеводні">Вуглеводні</option>
          <option value="Газоподібні фтористі сполуки">Газоподібні фтористі сполуки</option>
          <option value="Тверді речовини">Тверді речовини</option>
          <option value="Кадмій">Кадмій</option>
          <option value="Марганець">Марганець</option>
          <option value="Нікель">Нікель</option>
          <option value="Озон">Озон</option>
          <option value="Ртуть">Ртуть</option>
          <option value="Свинець">Свинець</option>
          <option value="Сірководень">Сірководень</option>
          <option value="Сірковуглець">Сірковуглець</option>
          <option value="Спирт">Спирт</option>
          <option value="Стирол">Стирол</option>
          <option value="Фенол">Фенол</option>
          <option value="Хром">Хром</option>
          <option value="Азот амонійний">Азот амонійний</option>
          <option value="БСК 5">БСК 5</option>
          <option value="Завислі речовини">Завислі речовини</option>
          <option value="Нафтопродукти">Нафтопродукти</option>
          <option value="Нітрати">Нітрати</option>
          <option value="Нітрити">Нітрити</option>
          <option value="Сульфати">Сульфати</option>
          <option value="Фосфати">Фосфати</option>
          <option value="Хлориди">Хлориди</option>
          <option value="Завислі речовини">Завислі речовини</option>
          <option value="custom">Інше (ввести вручну)</option>
        </select>
        <input type="text" id="custom-pollutant-name" placeholder="Введіть назву забруднюючої речовини" style="display: none;" />
        <label for="hazard-class" id="hazard-class-label" style="display: none;">Клас небезпеки:</label>
        <select id="hazard-class" style="display: none;">
          <option value="1">I</option>
          <option value="2">II</option>
          <option value="3">III</option>
          <option value="4">IV</option>
        </select>
        <label for="emission-volume">Об'єм викидів (тонн):</label>
        <input type="number" id="emission-volume" placeholder="Об'єм викидів" min="0" step="0.01" required>
        <label for="year">Рік:</label>
        <input type="number" id="year" placeholder="Рік" min="2015" max="2023" required>
        <button type="submit">Додати запис</button>
      </form>
    </div>
    <div id="add-record-form" style="display: none;">
      <h2>Додати новий запис для оцінки ризику</h2>
      <form id="add-air-risk-form">
          <label for="object-name">Назва об'єкта:</label>
          <select id="object-name" required>
              <option value="1">Рівне</option>
              <option value="2">Хмельницький</option>
              <option value="3">Бровари</option>
          </select>
          <label for="pollutant-name">Назва забруднюючої речовини:</label>
          <input type="text" id="pollutant-name" required>
  
          <label for="emission-volume">Об'єм викидів (тонн):</label>
          <input type="number" id="emission-volume" required>
  
          <label for="hazard-class">Клас небезпеки:</label>
          <input type="number" id="hazard-class" required>
  
          <label for="critical-organs">Критичні органи/системи:</label>
          <input type="text" id="critical-organs" required>
  
          <label for="reference-concentration">Концентрація (мг/м³):</label>
          <input type="number" id="reference-concentration" required>
  
          <label for="cancer-factor">Фактор канцерогенного потенціалу:</label>
          <input type="number" id="cancer-factor" step="0.0001" required>
  
          <label for="year">Рік:</label>
          <input type="number" id="year" required>
  
          <button type="button" onclick="submitAirRiskData()">Додати запис</button>
      </form>
  </div>
    <select id="table-select" class="small-select">
      <option value="water">Скиди забруднюючих речовин у водні об'єкти</option>
      <option value="air">Викиди в атмосферне повітря</option>
      <option value="air-risk">Оцінка ризику за викидами у повітря</option>
    </select>
    <button id="fetch-data" class="small-button">Показати дані</button>
    <div class="table-controls">
      <input type="text" id="search-input" placeholder="Пошук..." />
      <button id="sort-asc-btn">Сортувати за зростанням</button>
      <button id="sort-desc-btn">Сортувати за спаданням</button>
    </div>
    <table border="1" id="data-table">
      <thead>
        <tr>
          <th>№</th>
          <th>Назва об'єкту</th>
          <th>Назва забруднюючої речовини</th>
          <th id="emission-volume">Об'єм викидів</th>
          <th>Ставки податку за викиди</th>
          <th>Рік</th>
          <th>Податок</th>
          <th>Дії</th>
        </tr>
      </thead>
      <tbody id="data-table-body"></tbody>
    </table>

    <script src="../../app/components/table/sortTable.js"></script>
    <script src="../../app/components/table/searchTable.js"></script>
    <script src="../../app/components/table/event-listeners/fetch-data.js"></script>

    <script src="../../app/components/taxForm/calculateTax.js"></script>
    <script src="../../app/components/taxForm/calculateTaxRate.js"></script>
    <script src="../../app/components/taxForm/getTaxRateByHazardClass.js"></script>

    <script src="../../app/components/table/showNotification.js"></script>
    <script src="../../app/components/table/event-listeners/pollutant-name.js"></script>
    <script src="../../app/components/table/event-listeners/add-data-form.js"></script>
    <script src="../../app/components/table/event-listeners/table-select1.js"></script>
    <script src="../../app/components/table/updateTableWithNewRecord.js"></script>
    <script src="../../app/components/table/addEventListeners.js"></script>
    <script src="../../app/components/taxForm/toggleSection.js"></script>
    <script src="../../app/components/table/toggleAddRecordForm.js"></script>
  </body>
</html>
